<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0"
    >
    <script src="https://unpkg.com/typewriter-effect@latest/dist/core.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios@1.1.2/dist/axios.min.js"></script>
    <link
        rel="stylesheet"
        href="src/styles.css"
    />
    <title> Multilingual AI Cosmos Poem Generator</title>
</head>

<body>
    <div class="container">
        <header>
            <h1> üöÄ Multilingual AI Cosmos Poem Generator üöÄ <br /></h1>
        </header>

        <main>
            <div class="form-container">
                <form id="poem-generator-form">
                    <input
                        type="text"
                        placeholder="Enter the topic of the poem"
                        autofocus
                        required
                        autocomplete="off"
                        class="instructions"
                        id="user-instructions"
                    />
                    <input
                        type="submit"
                        class="submit-button"
                    />
                </form>
                <div class="example">ie. planets, moon, sun, etc.</div>
            </div>
            <div
                class="poem hidden"
                id="poem"
            ></div>
        </main>

        <footer>This AI project was coded by 
            > Aniqa Afzal using AI skills from the <a> href="https://www.shecodes.io/">SheCodes workshops for women </a> and is open-sourced on <a
                href="https://github.com/Elegangit/AI-Poem-Generator-AA.git"
                target="_blank"
            > GitHub</a> and is hosted on <a
                href="https://best-cosmos-poems-by-ai.netlify.app/"
                target="_blank"
            > Netlify.</a></footer>
    </div>

    
    <script>
        function displayPoem(response) {
    new Typewriter("#poem", {
        strings: response.data.answer,
        autoStart: true,
        delay: 1,
        cursor: "",
    });
}

function generatePoem(event) {
    event.preventDefault();

    let instructionsInput = document.querySelector("#user-instructions");
    let apiKey = "130f33ffoc5t4fdc244afb86281fdf02";
    let prompt = `User's instructions: Generate a poem about ${instructionsInput.value}`;
    let context = "You are a poem expert and love to write short poems on planets, moon, stars and sun. Your mission is to generate a four line poem in basic HTML and seperate each line with a <br />. Then translate the poem from English to Arabic, Russian, French and Turkish in a separate paragraphs if possible. Title to the poem at the top is Universe Explored through Poems. Have a complimentary close only at the end of the poem with a <strong> element 'SheCodes AI'. Please precisely follow the user's instructions. ";
    let apiURL = `https://api.shecodes.io/ai/v1/generate?prompt=${prompt}&context=${context}&key=${apiKey}`;

    let poemElement = document.querySelector("#poem");
    poemElement.classList.remove("hidden");
    poemElement.innerHTML = `<div class="generating">‚è≥ Generating an English poem about universe ${instructionsInput.value} with an Arabic, Russian, French and Turkish translations.</div>`;

    axios.get(apiURL).then(displayPoem);
}

let poemFormElement = document.querySelector("#poem-generator-form");
poemFormElement.addEventListener("submit", generatePoem);

    </script>

    <styles> body { color: white;
    background-color: navy;
    font-family: Arial, Helvetica, sans-serif;
}

a {
    color: #888df1;
}

.container {
    margin: 120px auto;
    max-width: 600px;
  border-radius:25%;

}

header {
    margin-bottom: 50px;
}

h1 {
    text-align: center;
    font-weight: 800;
    font-size: 36px;
    line-height: 1;
    color: #272044;
}

.form-container {
    padding: 15px 20px;
    margin-bottom: 30px;
    background-color: skyblue;
    box-shadow: 0px 20px 60px rgba(65, 50, 100 0.08);
    border-radius: 10px;
}

form {

    display: flex;
}

.example {
    line-height: 1.5;
    margin-top: 5px;
    opacity: 0.5;
    font-size: 14px;
}

.instructions {
    padding: 16px;
    border: 1px solid rgba(39, 33, 66, 0.5);
    width: 80%;
    border-radius: 50px;
    line-height: 20px;
    color: #272044;
}

.submit-button {
    margin-left: 10px;
    background: #888df1;
    color: white;
    border: none;
    width: 150px;
    font-size: 18px;
    border-radius: 50px;
    padding: 14px 24px;
}

.poem {
    font-size: 16px;
    background-color: #navy;
    padding: 20px;
    line-height: 2;
    color:white;
    border-left: 3px solid #885df1;
    box-shadow: 0px 20px 60px rgba(65, 50, 100 0.03);
}

.hidden {
    display: none;
}

.poem strong {
    color: #888df1;
}

footer {
    text-align: center;
    font-size: 14px;
    margin-top: 30px;
}

.generating {
    animation: blink-animation 1s steps(5, start) infinite;
}

@keyframes blink-animation {
    to {
        visibility: hidden;
    }
}

@-webkit-keyframes blink-animation {
    to {
        visibility: hidden;
    }
}
</styles>

    <script src="src/index.js"></script>
    
</body>

</html>
